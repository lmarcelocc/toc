<mat-card>
    <h1 mat-dialog-title color="primary">
        Update your profile
    </h1>
    <form class="profile-form-container" [formGroup]="profileForm" (ngSubmit)="onSubmit()" novalidate>


        <div fxFill fxLayout="row" fxLayoutAlign="space-between start">
            <mat-card>
                <div>
                    <mat-form-field fxFlexFill>
                        <input matInput formControlName="first_name" placeholder="First name">

                        <mat-error *ngIf="first_name.hasError('minlength') && (first_name.dirty || first_name.touched)">
                            First name should have, at least, {{ first_name.errors.minlength.requiredLength }} characters.
                        </mat-error>
                        <mat-error *ngIf="first_name.hasError('required') && (first_name.dirty || first_name.touched)">
                            First name is
                            <strong>required</strong>
                        </mat-error>
                    </mat-form-field>

                    <mat-form-field fxFlexFill>
                        <input matInput formControlName="last_name" placeholder="Last name">

                        <mat-error *ngIf="last_name.hasError('minlength') && (last_name.dirty || last_name.touched)">
                            Last name should have, at least, {{ last_name.errors.minlength.requiredLength }} characters.
                        </mat-error>
                        <mat-error *ngIf="last_name.hasError('required') && (last_name.dirty || last_name.touched)">
                            Last name is
                            <strong>required</strong>
                        </mat-error>
                    </mat-form-field>
                </div>

                <div>
                    <mat-form-field fxFlexFill>
                        <input matInput formControlName="company" placeholder="Company">
                    </mat-form-field>

                    <mat-form-field fxFlexFill>
                        <input matInput formControlName="email" placeholder="E-mail">

                        <mat-error *ngIf="email.invalid && email.dirty">
                            Please enter a valid email address
                        </mat-error>
                        <mat-error *ngIf="email.hasError('required') && (email.dirty || email.touched)">
                            Email is
                            <strong>required</strong>
                        </mat-error>

                    </mat-form-field>
                </div>
            </mat-card>

            <mat-card>

                <mat-form-field fxFlexFill>

                    <span matPrefix>
                        <mat-icon>lock_open</mat-icon>
                    </span>
                    <input matInput formControlName="old_password" type="password" placeholder="Old password">

                    <mat-error *ngIf="old_password.hasError('minlength') && (old_password.dirty || old_password.touched)">
                        Old password should have, at least, {{ old_password.errors.minlength.requiredLength }} characters.
                    </mat-error>
                    <mat-error *ngIf="old_password.hasError('required') && (old_password.dirty || old_password.touched)">
                        Old password is
                        <strong>required</strong>
                    </mat-error>
                </mat-form-field>

                <br>

                <mat-form-field fxFlexFill>

                    <span matPrefix>
                        <mat-icon>lock_open</mat-icon>
                    </span>
                    <input matInput formControlName="password" type="password" placeholder="Password">

                    <mat-error *ngIf="password.hasError('minlength') && (password.dirty || password.touched)">
                        Password should have, at least, {{ password.errors.minlength.requiredLength }} characters.
                    </mat-error>
                    <mat-error *ngIf="password.hasError('required') && (password.dirty || password.touched)">
                        Password is
                        <strong>required</strong>
                    </mat-error>
                </mat-form-field>

                <mat-form-field fxFlexFill>

                    <span matPrefix>
                        <mat-icon>lock_open</mat-icon>
                    </span>
                    <input matInput formControlName="password_confirmation" type="password" placeholder="Password confirmation">

                    <mat-error *ngIf="password_confirmation.hasError('equalTo') && (password_confirmation.dirty || password_confirmation.touched)">
                        The passwords doesn't match.
                    </mat-error>

                </mat-form-field>
            </mat-card>
        </div>
        <br>
        <div fxLayout="row" fxLayoutAlign="end center">
            <button mat-button color="primary" [disabled]="!profileForm.valid || buttonDisabled">
                UPDATE
            </button>
        </div>
    </form>
</mat-card>